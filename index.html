<!doctype html>

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Funny Webcam Masks</title>
	<link rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Libre+Barcode+128+Text|Nunito" rel="stylesheet">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>	
    <div id="glitch"></div>
    <div class="title">
      
       <h1>++Funny Webcam Masks++</h1>
       <p>PLEASE view with computers</p>
        
    </div>
    
    <!---load camera--->
    <div id="my_camera"></div>
    
    
    
    
    <!-- A button for taking snaps -->
    <div class="top">
		<form>
			<input type="button" value="Run" onClick="start_snapping()">
			<input type="button" value="Reset" onClick="stop_snapping()">
<!--		<input type="button" value="erase" onClick="erase_snaps()">-->
		</form>
	</div>
	<div class="fake-footer">
	
	Copyright <a href="https://github.com/uglykiki" target="blank">Â©  uglykiki</a> 2018 All Rights Reserved
<!--
	<a class="github-button" href="https://github.com/uglykiki" aria-label="Follow @uglykiki on GitHub">
        Follow @uglykiki
        </a>
-->
	</div>
	
	 <!---show results--->
	<div id="alert"></div>
	<div class="bottom">
		<div id="results"> </div>
	</div>
	
<!--
	<div id="download">
	    <input type="button" value="download" onClick="download">
	</div>
-->
	
	<!-- First, include the Webcam.js JavaScript Library -->
	<script type="text/javascript" src="js/webcam.min.js"></script>
	
	<!-- Configure a few settings and attach camera -->
	<script language="JavaScript">
		Webcam.set({
			width: 960,
			height: 360,
//          dest_width: 960,
//          dest_height:360,
			image_format: 'jpeg',
			jpeg_quality: 100
		});
		Webcam.attach( '#my_camera' );
	</script>
	
	<!-- Code to handle taking the snapshot and displaying it locally -->
	<script language="JavaScript">
		var timer = null;
		function take_snapshot() {
			// take snapshot and get image data
			Webcam.snap( function(data_uri) {
				// display results in page
				var img = new Image();
				img.src = data_uri;
				document.getElementById('results').appendChild( img );
			} );
		}
        function show_alert(){
            var message = ["Look at you XDDDD!!!!"];
            document.getElementById("alert").innerHTML = message;
        }
        
        
        
        function myMove() {
          var elem = document.getElementById("glitch");   
          var pos = 400;
          var id = setInterval(frame, 150);
          function frame() {
            if (pos == 600) {
              clearInterval(id);
            } else {
              pos++; 
              elem.style.top = pos + 'px'; 
//              elem.style.left = pos + 'px'; 
            }
          }
        }
        
        
        //shift functions of the buttoms
        function stop_snapping() {
            if (!timer) {
				take_snapshot();
				timer = setInterval( take_snapshot, 220 );
			}  
            show_alert();
		}
		function start_snapping() {
            if (timer) {
				clearTimeout( timer );
				timer = null;
			}
            myMove();
		}
        
//		function erase_snaps() {
//			document.getElementById('results').innerHTML = '';
//		}
	</script>
	
</body>
</html>
